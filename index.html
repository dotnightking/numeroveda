<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NumeroVeda ‚Äî Deep Chaldean Numerology Engine</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--bg:#0a0a0f;--s1:#12121a;--s2:#1a1a26;--bd:#2a2a3a;--tx:#e8e6e3;--t2:#9a96a0;--gd:#d4a853;--g2:#b8912f;--gg:rgba(212,168,83,.15);--rd:#e85454;--rg:rgba(232,84,84,.12);--gn:#4ade80;--gng:rgba(74,222,128,.12);--bl:#60a5fa;--pu:#a78bfa}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--bg);color:var(--tx);font-family:'DM Sans',sans-serif;min-height:100vh;overflow-x:hidden}
.noise{position:fixed;top:0;left:0;width:100%;height:100%;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");pointer-events:none;z-index:9999}
.ctr{max-width:900px;margin:0 auto;padding:20px}
header{text-align:center;padding:50px 20px 30px;position:relative}
header::before{content:'';position:absolute;top:20px;left:50%;transform:translateX(-50%);width:120px;height:1px;background:linear-gradient(90deg,transparent,var(--gd),transparent)}
.logo{font-family:'Cormorant Garamond',serif;font-size:42px;font-weight:300;letter-spacing:8px;color:var(--gd);text-transform:uppercase;margin-bottom:8px}
.tagline{font-size:12px;letter-spacing:4px;text-transform:uppercase;color:var(--t2);font-weight:300}
.badge{display:inline-block;margin-top:14px;padding:4px 14px;border:1px solid var(--bd);border-radius:20px;font-size:10px;letter-spacing:2px;color:var(--t2);text-transform:uppercase}
.ibox{background:var(--s1);border:1px solid var(--bd);border-radius:16px;padding:36px;margin:30px 0;position:relative;overflow:hidden}
.ibox::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--g2),transparent)}
.igrid{display:grid;grid-template-columns:1fr 1fr;gap:20px}
@media(max-width:600px){.igrid{grid-template-columns:1fr}}
.fld{display:flex;flex-direction:column;gap:6px}
.fld label{font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--t2);font-weight:500}
.fld input{background:var(--bg);border:1px solid var(--bd);border-radius:8px;padding:14px 16px;color:var(--tx);font-family:'DM Sans',sans-serif;font-size:15px;outline:none;transition:border-color .3s}
.fld input:focus{border-color:var(--gd)}
.fld input::placeholder{color:#4a4656}
.full{grid-column:1/-1}
.btn{grid-column:1/-1;background:linear-gradient(135deg,var(--g2),var(--gd));border:none;border-radius:8px;padding:16px;color:#0a0a0f;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:600;letter-spacing:3px;text-transform:uppercase;cursor:pointer;transition:all .3s;margin-top:8px}
.btn:hover{transform:translateY(-1px);box-shadow:0 8px 30px rgba(212,168,83,.25)}
#results{display:none}
#results.active{display:block;animation:fadeUp .6s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.sec{background:var(--s1);border:1px solid var(--bd);border-radius:12px;padding:28px;margin-bottom:16px;position:relative;overflow:hidden}
.stit{font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--t2);margin-bottom:16px;font-weight:500}
.cgrid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}
@media(max-width:600px){.cgrid{grid-template-columns:1fr}}
.cnum{font-family:'Cormorant Garamond',serif;font-size:44px;font-weight:300;line-height:1;margin-bottom:4px}
.cpl{font-size:13px;color:var(--gd);margin-bottom:8px}
.rate{font-family:'JetBrains Mono',monospace;font-size:12px;padding:3px 10px;border-radius:4px;display:inline-block}
.rg{background:var(--gng);color:var(--gn)}.rb{background:var(--rg);color:var(--rd)}.rm{background:rgba(255,255,255,.05);color:var(--t2)}
.meter{height:6px;background:var(--s2);border-radius:3px;overflow:hidden;width:100px;display:inline-block;vertical-align:middle;margin-left:8px}
.mf{height:100%;border-radius:3px;transition:width 1s ease}
.score-hero{text-align:center;padding:40px 20px}
.score-ring{position:relative;width:200px;height:200px;margin:0 auto 24px}
.score-ring svg{transform:rotate(-90deg)}
.sn{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Cormorant Garamond',serif;font-size:56px;font-weight:300}
.sl{font-size:11px;letter-spacing:3px;text-transform:uppercase;color:var(--t2);margin-bottom:4px}
.sv{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:400;margin-top:4px}
table.dt{width:100%;border-collapse:collapse;margin-top:12px}
.dt th{text-align:left;font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:var(--t2);padding:8px 10px;border-bottom:1px solid var(--bd);font-weight:500}
.dt td{padding:10px;border-bottom:1px solid rgba(255,255,255,.03);font-size:13px}
.mono{font-family:'JetBrains Mono',monospace;font-size:13px}
.ri{padding:12px 0;border-bottom:1px solid rgba(255,255,255,.03);display:flex;gap:12px;align-items:flex-start}
.ri:last-child{border:none}
.ric{width:28px;height:28px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:14px;flex-shrink:0;margin-top:2px}
.ric-g{background:var(--gng)}.ric-w{background:var(--rg)}.ric-i{background:var(--gg)}
.rit{font-size:14px;line-height:1.6;color:var(--tx)}
.rit strong{color:var(--gd);font-weight:500}
.tabs{display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap}
.tab{padding:8px 16px;border:1px solid var(--bd);border-radius:6px;font-size:12px;letter-spacing:1px;cursor:pointer;background:transparent;color:var(--t2);transition:all .2s;text-transform:uppercase}
.tab.active{background:var(--gg);border-color:var(--gd);color:var(--gd)}
.tpanel{display:none}.tpanel.active{display:block}
.csec{background:linear-gradient(135deg,rgba(74,222,128,.04),rgba(74,222,128,.01));border:1px solid rgba(74,222,128,.15);border-radius:12px;padding:28px;margin-bottom:16px}
.ctbl{width:100%;border-collapse:collapse;margin-top:12px}
.ctbl th{text-align:left;font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:var(--t2);padding:8px 10px;border-bottom:1px solid var(--bd);font-weight:500}
.ctbl td{padding:10px;border-bottom:1px solid rgba(255,255,255,.03);font-size:13px}
.cbst{display:inline-block;padding:2px 8px;border-radius:3px;font-size:9px;letter-spacing:1px;text-transform:uppercase;background:var(--gng);color:var(--gn);font-weight:600;margin-left:8px}
.ctg{display:inline-block;padding:2px 8px;border-radius:3px;font-size:10px;letter-spacing:1px;text-transform:uppercase;font-weight:500}
.ctg-a{background:rgba(96,165,250,.12);color:var(--bl)}.ctg-r{background:var(--rg);color:var(--rd)}.ctg-s{background:rgba(167,139,250,.12);color:var(--pu)}.ctg-d{background:var(--gg);color:var(--gd)}
.boost{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--gn);font-weight:500}
.cnote{margin-top:16px;padding:14px 18px;background:rgba(212,168,83,.06);border:1px solid rgba(212,168,83,.12);border-radius:8px;font-size:12px;color:var(--t2);line-height:1.7}
.cnote strong{color:var(--gd)}
.pill{display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;margin:3px;background:var(--s2);border:1px solid var(--bd)}
.pill-g{border-color:rgba(74,222,128,.3);color:var(--gn)}
.pill-r{border-color:rgba(232,84,84,.3);color:var(--rd)}
.pill-b{border-color:rgba(96,165,250,.3);color:var(--bl)}
.disclaimer{text-align:center;padding:30px 20px;font-size:11px;color:#5a5666;line-height:1.6;border-top:1px solid var(--bd);margin-top:20px}
.disclaimer strong{color:var(--t2)}
.profile-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
@media(max-width:600px){.profile-grid{grid-template-columns:1fr}}
.profile-item{padding:12px;background:var(--s2);border-radius:8px}
.profile-label{font-size:10px;letter-spacing:1.5px;text-transform:uppercase;color:var(--t2);margin-bottom:6px}
.profile-value{font-size:13px;line-height:1.5}
</style>
</head>
<body>
<div class="noise"></div>
<div class="ctr">
<header>
<div class="logo">NumeroVeda</div>
<div class="tagline">Deep Chaldean Numerology Engine</div>
<div class="badge">526 people validated ¬∑ AI pattern discovery ¬∑ Traditional + Data-backed</div>
</header>
<div class="ibox">
<div class="igrid">
<div class="fld"><label>Name (as commonly known)</label><input type="text" id="nameIn" placeholder="e.g. Virat Kohli"></div>
<div class="fld"><label>Date of Birth</label><input type="date" id="dobIn"></div>
<button class="btn" onclick="analyze()">Reveal Your Complete Numerology</button>
</div>
</div>
<div id="results"></div>
</div>
<script>
const CH={A:1,B:2,C:3,D:4,E:5,F:8,G:3,H:5,I:1,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:1,R:2,S:3,T:4,U:6,V:6,W:6,X:5,Y:1,Z:7};
const VW=new Set('AEIOU');
const PL={1:'Sun ‚òÄÔ∏è',2:'Moon üåô',3:'Jupiter ‚ôÉ',4:'Rahu ‚òä',5:'Mercury ‚òø',6:'Venus ‚ôÄ',7:'Ketu ‚òã',8:'Saturn ‚ôÑ',9:'Mars ‚ôÇ'};
const DR={1:68,2:69,3:77,4:82,5:79,6:78,7:69,8:72,9:67};
const CR={1:77,2:63,3:68,4:81,5:76,6:73,7:79,8:80,9:58};
const NR={1:79,2:72,3:71,4:81,5:68,6:65,7:75,8:81,9:71};
const SR={1:71,2:72,3:75,4:70,5:65,6:74,7:80,8:77,9:80};
const PR={1:67,2:69,3:71,4:76,5:75,6:80,7:84,8:66,9:76};
const DNR={1:{1:63,2:50,3:72,4:71,5:75,6:85,7:77,8:66,9:55},2:{1:75,2:70,3:54,4:75,5:71,6:60,7:75,8:80,9:83},3:{1:100,2:77,3:63,4:100,5:75,6:77,7:75,8:100,9:42},4:{1:100,2:70,3:75,4:100,5:75,6:66,7:100,8:100,9:66},5:{1:100,2:80,3:83,4:88,5:100,6:50,7:57,8:33,9:88},6:{1:77,2:80,3:87,4:80,5:50,6:33,7:100,8:83,9:77},7:{1:66,3:100,4:50,5:25,6:60,7:60,8:75,9:83},8:{1:75,2:60,3:40,4:71,5:100,6:77,7:71,8:75,9:66},9:{1:50,3:60,4:88,5:0,6:54,7:66,8:85}};
const CNR={1:{1:83,2:83,3:50,4:75,5:66,6:75,7:100,8:84,9:80},2:{1:50,2:50,3:58,4:83,5:66,6:50,7:33,8:90,9:50},3:{1:75,2:100,3:62,4:60,5:25,6:80,7:50,9:85},4:{1:100,2:50,3:80,4:100,5:71,6:77,7:100,8:83,9:66},5:{1:83,2:75,3:71,5:88,6:100,7:63,8:80,9:66},6:{1:100,2:83,3:80,4:100,5:50,6:33,7:60,8:60,9:50},7:{1:85,2:60,3:100,4:100,5:66,6:75,7:80,8:83,9:60},8:{1:75,2:66,3:87,4:60,5:75,6:81,7:90,8:100,9:83},9:{1:40,2:83,3:57,4:66,6:20,7:75,8:50,9:83}};
const PF={1:new Set([1,2,3,5,9]),2:new Set([1,2,3,5]),3:new Set([1,2,3,5,7,9]),4:new Set([5,6,7,8]),5:new Set([1,2,3,4,5,6,7,8,9]),6:new Set([4,5,6,7,8]),7:new Set([3,4,5,6,8]),8:new Set([4,5,6,7]),9:new Set([1,2,3,5,9])};
const PE={1:new Set([6,8]),2:new Set([4,8,9]),3:new Set([6]),4:new Set([1,2,9]),5:new Set(),6:new Set([1,2,3,9]),7:new Set([1,2,9]),8:new Set([1,2,9]),9:new Set([4,6,7,8])};
const NP={1:{planet:'Sun',elem:'Fire',day:'Sunday',colors:['Gold','Orange','Yellow'],gems:['Ruby','Garnet'],str:['Leadership','Originality','Ambition','Self-confidence'],wk:['Ego','Dominating','Stubborn','Impatient'],careers:['CEO/Founder','Politics','Creative Director'],mantras:['Om Suryaya Namaha'],remedies:['Offer water to Sun at sunrise','Wear gold ring on ring finger','Donate wheat on Sundays']},2:{planet:'Moon',elem:'Water',day:'Monday',colors:['White','Silver','Light blue'],gems:['Pearl','Moonstone'],str:['Intuitive','Diplomatic','Nurturing','Empathetic'],wk:['Indecisive','Over-sensitive','Moody','Dependent'],careers:['Counselor','Diplomat','Healthcare','Artist'],mantras:['Om Chandraya Namaha'],remedies:['Drink moon-charged water','Wear pearl on little finger','Donate rice on Mondays']},3:{planet:'Jupiter',elem:'Ether',day:'Thursday',colors:['Yellow','Saffron','Gold'],gems:['Yellow Sapphire','Topaz'],str:['Wisdom','Optimism','Creative','Charismatic'],wk:['Scattered','Overconfident','Extravagant','Procrastinating'],careers:['Teacher','Writer','Banker','Judge'],mantras:['Om Gurave Namaha'],remedies:['Wear yellow on Thursdays','Donate turmeric','Respect elders and teachers']},4:{planet:'Rahu',elem:'Air',day:'Saturday',colors:['Blue','Grey','Electric blue'],gems:['Hessonite (Gomed)'],str:['Disciplined','Innovative','Hardworking','Detail-oriented'],wk:['Rigid','Anxious','Sudden upheavals','Rebellious'],careers:['Engineer','IT/Tech','Research','Architecture'],mantras:['Om Rahave Namaha'],remedies:['Read Hanuman Chalisa daily','Donate black sesame seeds','Keep sandalwood']},5:{planet:'Mercury',elem:'Earth',day:'Wednesday',colors:['Green','Turquoise','Mixed colors'],gems:['Emerald','Peridot'],str:['Versatile','Communicative','Quick-witted','Adaptable','Universal friend'],wk:['Restless','Inconsistent','Risk-taking','Scattered'],careers:['Business','Media','Trading','Sales','Marketing'],mantras:['Om Budhaya Namaha'],remedies:['Wear green on Wednesdays','Donate green moong dal','Feed birds']},6:{planet:'Venus',elem:'Water',day:'Friday',colors:['White','Pink','Pastels'],gems:['Diamond','White Sapphire','Opal'],str:['Artistic','Loving','Magnetic','Harmonious'],wk:['Possessive','Lazy','Materialistic','Jealous'],careers:['Fashion','Entertainment','Luxury goods','Design'],mantras:['Om Shukraya Namaha'],remedies:['Wear white on Fridays','Donate white sweets','Respect women and artists']},7:{planet:'Ketu',elem:'Water',day:'Monday',colors:['Grey','Smoky','Dark green'],gems:["Cat's Eye","Tiger Eye"],str:['Spiritual','Mystical','Research-minded','Intuitive'],wk:['Isolated','Confused','Detached','Unpredictable'],careers:['Research','Spirituality','Technology','Psychology'],mantras:['Om Ketave Namaha','Om Namah Shivaya'],remedies:['Meditate regularly','Donate multi-colored blanket','Keep a dog as pet']},8:{planet:'Saturn',elem:'Air',day:'Saturday',colors:['Black','Dark blue','Indigo'],gems:['Blue Sapphire','Amethyst'],str:['Ambitious','Authoritative','Patient','Strategic'],wk:['Delayed success','Lonely','Pessimistic','Workaholic'],careers:['Law','Real estate','Government','Mining'],mantras:['Om Shani Devaya Namaha'],remedies:['Donate mustard oil on Saturdays','Feed crows','Help elderly and disabled']},9:{planet:'Mars',elem:'Fire',day:'Tuesday',colors:['Red','Scarlet','Coral'],gems:['Red Coral','Carnelian'],str:['Courageous','Humanitarian','Energetic','Protective'],wk:['Aggressive','Impulsive','Short-tempered','Confrontational'],careers:['Military','Surgery','Sports','Police'],mantras:['Om Mangalaya Namaha'],remedies:['Offer red flowers at Hanuman temple on Tuesdays','Donate red masoor dal','Practice patience']}};
const CM={10:{n:'Wheel of Fortune',t:'lucky',r:7},11:{n:'Clenched Hand',t:'karmic',r:3},12:{n:'The Sacrifice',t:'unlucky',r:3},13:{n:'Transformation',t:'mixed',r:5},14:{n:'Lucky Money',t:'mixed',r:6},15:{n:'The Magician',t:'lucky',r:8},16:{n:'Shattered Citadel',t:'danger',r:2},17:{n:'Star of the Magi',t:'v_lucky',r:9},18:{n:'Spiritual Warfare',t:'danger',r:2},19:{n:'Prince of Heaven',t:'v_lucky',r:10},20:{n:'Judgment/Delays',t:'unlucky',r:4},21:{n:'Crown of the Magi',t:'v_lucky',r:9},22:{n:'Illusion/Danger',t:'unlucky',r:3},23:{n:'Royal Star of Lion',t:'v_lucky',r:10},24:{n:'Love & Money',t:'lucky',r:8},25:{n:'Strength via Trial',t:'mixed',r:5},26:{n:'Grave Warning',t:'unlucky',r:3},27:{n:'The Scepter',t:'lucky',r:7},28:{n:'Promise then Loss',t:'mixed',r:4},29:{n:'Treachery',t:'danger',r:2},30:{n:'Loner Intellectual',t:'neutral',r:5},31:{n:'Isolation',t:'mixed',r:4},32:{n:'Trust Yourself',t:'lucky',r:7},33:{n:'Master Teacher',t:'lucky',r:8},34:{n:'Late Bloomer',t:'mixed',r:5},35:{n:'Mistrust',t:'mixed',r:4},36:{n:'Genius/Charisma',t:'lucky',r:7},37:{n:'Royal Star of Bull',t:'v_lucky',r:9},38:{n:'Hidden Danger',t:'unlucky',r:3},39:{n:'Protection',t:'mixed',r:5},40:{n:'Power Change',t:'mixed',r:5},41:{n:'Self Trust',t:'lucky',r:7},42:{n:'Weaker 24',t:'mixed',r:5},43:{n:'Revolution/Failure',t:'danger',r:2},44:{n:'Karmic Penalty',t:'unlucky',r:3},45:{n:'Power & Authority',t:'lucky',r:8},46:{n:'Love & Friendship',t:'lucky',r:7},47:{n:'Deception',t:'unlucky',r:3},48:{n:'Karmic Lesson',t:'neutral',r:4},49:{n:'Isolation',t:'unlucky',r:3},50:{n:'Self-Directed',t:'mixed',r:5},51:{n:'The Warrior',t:'mixed',r:6},52:{n:'Most Unfortunate',t:'danger',r:1}};
const MM={1:'Missing Sun energy: May lack self-confidence and leadership initiative.',2:'Missing Moon energy: May struggle with emotional expression and intuition.',3:'Missing Jupiter energy: May lack wisdom channels and guidance from mentors.',4:'Missing Rahu energy: May lack innovation and ability to think outside the box.',5:'Missing Mercury energy: May struggle with communication and adaptability.',6:'Missing Venus energy: May lack artistic fulfillment and relationship harmony.',7:'Missing Ketu energy: May lack spiritual depth and research abilities.',8:'Missing Saturn energy: May lack discipline, structure, and long-term planning.'};

function rs(t){while(t>9)t=[...String(t)].reduce((a,b)=>a+parseInt(b),0);return t}
function cn(name){const c=name.toUpperCase().replace(/[^A-Z]/g,'');let t=0,v=0;for(const l of c){const n=CH[l]||0;t+=n;if(VW.has(l))v+=n}return{total:t,root:rs(t),soul:rs(v),pers:rs(t-v),letters:c}}
function drv(d){let n=d;while(n>9)n=rs(n);return n}
function cnd(d,m,y){return rs([...`${d}${m}${y}`].reduce((a,b)=>a+parseInt(b),0))}
function missing(name){const c=name.toUpperCase().replace(/[^A-Z]/g,'');const p=new Set();for(const l of c)if(CH[l])p.add(CH[l]);const m=[];for(let i=1;i<=8;i++)if(!p.has(i))m.push(i);return m}
function rc(r){return r>=70?'rg':r<=45?'rb':'rm'}
function rl(r){return r>=75?'Strong':r>=65?'Good':r>=55?'Average':r>=45?'Weak':'Caution'}
function mc(r){return r>=70?'var(--gn)':r>=55?'var(--gd)':'var(--rd)'}
function compColor(t){return t==='v_lucky'||t==='lucky'?'var(--gn)':t==='danger'||t==='unlucky'?'var(--rd)':'var(--t2)'}

function nameScoreDOB(name,d,c){
const n=cn(name);const nr=n.root,ns=n.soul,np=n.pers;
const gl=(NR[nr]||60)+(SR[ns]||60)+(PR[np]||60);
let dr=(DNR[d]||{})[nr],cr=(CNR[c]||{})[nr];
let rsc=NR[nr]||60,cnt=1;
if(dr!==undefined){rsc+=dr*1.5;cnt+=1.5}
if(cr!==undefined){rsc+=cr*1.5;cnt+=1.5}
rsc/=cnt;
const sc=(rsc+(SR[ns]||60)+(PR[np]||60))/3;
const sf=PF[ns]&&PF[ns].has(d);
return{score:sc+(sf?3:0),root:nr,soul:ns,pers:np,compound:n.total,drvH:dr,cndH:cr,soulFriend:sf}
}

function genCorrections(name,d,c){
const orig=nameScoreDOB(name,d,c);const S=new Map();const parts=name.trim().split(/\s+/);
function tryC(cand,method,tag){
if(cand===name.trim()||cand.replace(/\s+/g,'').length<3)return;
const data=nameScoreDOB(cand,d,c);
if(data.score>orig.score+0.5&&!S.has(cand))S.set(cand,{...data,method,tag});
}
const SIM={C:['K','S'],K:['C','Q'],S:['Z','C'],Z:['S'],V:['W'],W:['V'],I:['Y','EE'],Y:['I'],J:['G'],G:['J'],T:['TH','D'],D:['T'],F:['PH'],N:['NN'],A:['AA'],E:['EE','I'],R:['RR'],L:['LL']};
for(let pi=0;pi<parts.length;pi++){
const p=parts[pi];const mk=np=>{const a=[...parts];a[pi]=np;return a.join(' ')};
for(const ch of 'aehisn')tryC(mk(p+ch),`Add "${ch}" after ${p}`,'add');
for(let i=0;i<p.length;i++){
if(!VW.has(p[i].toUpperCase())&&/[a-zA-Z]/.test(p[i]))tryC(mk(p.slice(0,i+1)+p[i]+p.slice(i+1)),`Double "${p[i]}"`,'dbl');
if(VW.has(p[i].toUpperCase()))tryC(mk(p.slice(0,i+1)+p[i]+p.slice(i+1)),`Double "${p[i]}"`,'dbl');
}
if(p.length>=4)for(let i=0;i<p.length;i++){const nw=p.slice(0,i)+p.slice(i+1);if(nw.length>=3)tryC(mk(nw),`Remove "${p[i]}"`,'rem')}
for(let i=1;i<p.length;i++)for(const ch of 'aheiou')tryC(mk(p.slice(0,i)+ch+p.slice(i)),`Insert "${ch}" in ${p}`,'add');
for(let i=0;i<p.length;i++){const u=p[i].toUpperCase();if(SIM[u])for(const rep of SIM[u]){const f=i===0?rep[0].toUpperCase()+rep.slice(1).toLowerCase():rep.toLowerCase();tryC(mk(p.slice(0,i)+f+p.slice(i+1)),`"${p[i]}"‚Üí"${f}"`,'swp')}}
}
let sorted=[...S.entries()].sort((a,b)=>b[1].score-a[1].score);
const seen=new Set();const uniq=[];
for(const[n,d2]of sorted){const k=`${d2.root}-${d2.soul}-${d2.pers}`;if(!seen.has(k)){seen.add(k);uniq.push([n,d2])}if(uniq.length>=8)break}
return{suggestions:uniq,original:orig}
}

function analyze(){
const name=document.getElementById('nameIn').value.trim();
const dobEl=document.getElementById('dobIn');
if(!name||!dobEl.value){alert('Please enter both name and date of birth');return}
const[year,month,day]=[...dobEl.value.split('-').map(Number)];
const d=drv(day),c=cnd(day,month,year),n=cn(name),miss=missing(name);
const dR=DR[d]||60,cR=CR[c]||60,nrR=NR[n.root]||60,sR=SR[n.soul]||60,pR=PR[n.pers]||60;
const dp=NP[d],cp=NP[c],nrp=NP[n.root],sp=NP[n.soul],pp=NP[n.pers];
const sf=PF[n.soul]&&PF[n.soul].has(d);
const dcCombo=`${d}-${c}`;
// Compound
let comp=n.total;while(comp>52)comp=rs(comp);
const compInfo=CM[comp]||{n:'‚Äî',t:'neutral',r:5};
// Score
const origS=nameScoreDOB(name,d,c);
const scores=[dR,cR,origS.score];
const composite=Math.round(scores.reduce((a,b)=>a+b,0)/scores.length);
const verdict=composite>=70?{t:'Exceptional Alignment',c:'var(--gn)'}:composite>=62?{t:'Strong Vibration',c:'var(--gn)'}:composite>=55?{t:'Favorable Energy',c:'var(--gd)'}:composite>=48?{t:'Mixed Signals',c:'var(--t2)'}:{t:'Challenging Pattern',c:'var(--rd)'};
const ringPct=Math.min(100,Math.max(0,(composite-20)*1.25));
const circ=2*Math.PI*88;const dash=circ*(1-ringPct/100);
// Corrections
const{suggestions:corr,original:corrOrig}=genCorrections(name,d,c);
// Best roots for this DOB
const bestRoots=[];for(let i=1;i<=9;i++){let sc=NR[i]||60,cnt=1;const dr2=(DNR[d]||{})[i],cr2=(CNR[c]||{})[i];if(dr2!==undefined){sc+=dr2*1.5;cnt+=1.5}if(cr2!==undefined){sc+=cr2*1.5;cnt+=1.5}bestRoots.push({r:i,rate:Math.round(sc/cnt)})}
bestRoots.sort((a,b)=>b.rate-a.rate);
// Build insights
const insights=[];
if(dR>=70)insights.push({t:'g',m:`<strong>Driver ${d} (${PL[d]})</strong> is one of the strongest ‚Äî ${dR}% success rate. Natural leadership and drive.`});
else if(dR<=55)insights.push({t:'w',m:`<strong>Driver ${d} (${PL[d]})</strong> showed only ${dR}% correlation. ${dp?'Remedy: '+dp.remedies[0]:''}`});
if(cR>=70)insights.push({t:'g',m:`<strong>Conductor ${c} (${PL[c]})</strong> is excellent ‚Äî ${cR}% success rate. Your life path carries strong energy.`});
else if(cR<=52)insights.push({t:'w',m:`<strong>Conductor ${c} (${PL[c]})</strong> is one of the most challenging life paths (${cR}%). ${cp?'Remedy: '+cp.remedies[0]:''}`});
if(sR>=70)insights.push({t:'g',m:`<strong>Soul Urge ${n.soul} (${PL[n.soul]})</strong> = ${sR}% ‚Äî your inner desires resonate powerfully.`});
else if(sR<=55)insights.push({t:'w',m:`<strong>Soul Urge ${n.soul}</strong> showed only ${sR}% ‚Äî inner motivation may face friction. Consider name changes to shift vowel energy.`});
if(pR>=70)insights.push({t:'g',m:`<strong>Personality ${n.pers} (${PL[n.pers]})</strong> = ${pR}% ‚Äî how others perceive you works strongly in your favor.`});
else if(pR<=50)insights.push({t:'w',m:`<strong>Personality ${n.pers}</strong> only ${pR}% ‚Äî the outer impression your name creates faces friction.`});
if(sf)insights.push({t:'g',m:`<strong>Soul‚ÜîDriver harmony</strong>: Your Soul Urge ${n.soul} is a planetary friend of your Driver ${d}. This is the ONE validated relationship that matters (+11% gap in 251-person data).`});
else if(PE[n.soul]&&PE[n.soul].has(d))insights.push({t:'w',m:`<strong>Soul‚ÜîDriver conflict</strong>: Your Soul ${n.soul} is a planetary enemy of Driver ${d}. Your inner desires may clash with your natural personality.`});
if(miss.length>0)insights.push({t:'i',m:`<strong>Missing energies in name</strong>: Numbers ${miss.join(', ')} are absent from your name letters. ${miss.length>=3?'Multiple missing energies suggest areas for conscious development.':'Consider if these gaps affect you.'}`});

const html=`
<div class="sec score-hero">
<div class="sl">Composite Score ‚Äî validated against 526 real people</div>
<div class="score-ring"><svg width="200" height="200" viewBox="0 0 200 200"><circle fill="none" stroke="var(--s2)" stroke-width="8" cx="100" cy="100" r="88"/><circle fill="none" stroke="${verdict.c}" stroke-width="8" stroke-linecap="round" cx="100" cy="100" r="88" stroke-dasharray="${circ}" stroke-dashoffset="${dash}"/></svg><div class="sn" style="color:${verdict.c}">${composite}</div></div>
<div class="sv" style="color:${verdict.c}">${verdict.t}</div>
<div style="margin-top:8px;font-size:12px;color:var(--t2)">Driver (${dR}%) + Conductor (${cR}%) + Name Analysis (${Math.round(origS.score)}%)</div>
</div>

<div class="tabs" id="tabs">
<div class="tab active" onclick="showTab(0)">Core Numbers</div>
<div class="tab" onclick="showTab(1)">Deep Profile</div>
<div class="tab" onclick="showTab(2)">Name Analysis</div>
<div class="tab" onclick="showTab(3)">Name Correction</div>
<div class="tab" onclick="showTab(4)">Insights & Remedies</div>
</div>

<div class="tpanel active" id="tp0">
<div class="cgrid">
<div class="sec"><div class="stit">Driver (Psychic) Number</div><div class="cnum">${d}</div><div class="cpl">${PL[d]}</div><span class="rate ${rc(dR)}">${dR}% ‚Äî ${rl(dR)}</span><div class="meter"><div class="mf" style="width:${dR}%;background:${mc(dR)}"></div></div><div style="margin-top:8px;font-size:12px;color:var(--t2)">Born on ${day}${[,'st','nd','rd'][day%10>3?0:day%10]||'th'} ¬∑ Your personality core</div></div>
<div class="sec"><div class="stit">Conductor (Destiny) Number</div><div class="cnum">${c}</div><div class="cpl">${PL[c]}</div><span class="rate ${rc(cR)}">${cR}% ‚Äî ${rl(cR)}</span><div class="meter"><div class="mf" style="width:${cR}%;background:${mc(cR)}"></div></div><div style="margin-top:8px;font-size:12px;color:var(--t2)">Full DOB sum ¬∑ Your life path</div></div>
</div>
<div class="sec"><div class="stit">Compound Number ‚Äî "${name}" = ${n.total}</div>
<div style="display:flex;gap:20px;align-items:center;flex-wrap:wrap">
<div class="cnum" style="color:${compColor(compInfo.t)}">${comp<=52?comp:n.total}</div>
<div><div style="font-size:16px;color:${compColor(compInfo.t)};font-family:'Cormorant Garamond',serif">"${compInfo.n}"</div>
<div style="font-size:12px;color:var(--t2);margin-top:4px">Traditional rating: ${compInfo.r}/10 ¬∑ ${compInfo.t.replace('_',' ').replace('v ','very ')}</div>
<div style="font-size:11px;color:var(--t2);margin-top:4px;font-style:italic">‚ö†Ô∏è Note: Compound meanings are traditional lore. Our 251-person data showed NO predictive correlation for compound ratings. Shown for cultural reference only.</div>
</div></div></div>
</div>

<div class="tpanel" id="tp1">
<div class="cgrid">
<div class="sec"><div class="stit">Driver ${d} ‚Äî ${dp.planet} Profile</div>
<div class="profile-grid">
<div class="profile-item"><div class="profile-label">Element / Day</div><div class="profile-value">${dp.elem} ¬∑ ${dp.day}</div></div>
<div class="profile-item"><div class="profile-label">Colors</div><div class="profile-value">${dp.colors.join(', ')}</div></div>
<div class="profile-item"><div class="profile-label">Gemstones</div><div class="profile-value">${dp.gems.join(', ')}</div></div>
<div class="profile-item"><div class="profile-label">Best Careers</div><div class="profile-value">${dp.careers.join(', ')}</div></div>
</div>
<div style="margin-top:12px"><div class="profile-label">Strengths</div>${dp.str.map(s=>`<span class="pill pill-g">${s}</span>`).join('')}</div>
<div style="margin-top:8px"><div class="profile-label">Weaknesses</div>${dp.wk.map(s=>`<span class="pill pill-r">${s}</span>`).join('')}</div>
</div>
<div class="sec"><div class="stit">Conductor ${c} ‚Äî ${cp.planet} Profile</div>
<div class="profile-grid">
<div class="profile-item"><div class="profile-label">Element / Day</div><div class="profile-value">${cp.elem} ¬∑ ${cp.day}</div></div>
<div class="profile-item"><div class="profile-label">Colors</div><div class="profile-value">${cp.colors.join(', ')}</div></div>
<div class="profile-item"><div class="profile-label">Gemstones</div><div class="profile-value">${cp.gems.join(', ')}</div></div>
<div class="profile-item"><div class="profile-label">Best Careers</div><div class="profile-value">${cp.careers.join(', ')}</div></div>
</div>
<div style="margin-top:12px"><div class="profile-label">Strengths</div>${cp.str.map(s=>`<span class="pill pill-g">${s}</span>`).join('')}</div>
<div style="margin-top:8px"><div class="profile-label">Weaknesses</div>${cp.wk.map(s=>`<span class="pill pill-r">${s}</span>`).join('')}</div>
</div></div>
${miss.length?`<div class="sec"><div class="stit">Missing Number Energies in Your Name</div>${miss.map(m=>`<div class="ri"><div class="ric ric-w">!</div><div class="rit"><strong>Missing ${m} (${PL[m]})</strong>: ${MM[m]}</div></div>`).join('')}<div class="cnote"><strong>Traditional remedy:</strong> Add missing energies through gemstones, colors, or mantras. Missing numbers don't doom you ‚Äî they highlight areas for conscious growth.</div></div>`:''}
</div>

<div class="tpanel" id="tp2">
<div class="sec"><div class="stit">Name Vibration ‚Äî "${name}"</div>
<table class="dt"><thead><tr><th>Component</th><th>Number</th><th>Planet</th><th>Success Rate</th><th>Strength</th></tr></thead><tbody>
<tr><td>Name Root</td><td class="mono">${n.root}</td><td>${PL[n.root]}</td><td><span class="rate ${rc(nrR)}">${nrR}%</span></td><td><div class="meter"><div class="mf" style="width:${nrR}%;background:${mc(nrR)}"></div></div></td></tr>
<tr><td>Soul Urge (vowels)</td><td class="mono">${n.soul}</td><td>${PL[n.soul]}</td><td><span class="rate ${rc(sR)}">${sR}%</span></td><td><div class="meter"><div class="mf" style="width:${sR}%;background:${mc(sR)}"></div></div></td></tr>
<tr><td>Personality (consonants)</td><td class="mono">${n.pers}</td><td>${PL[n.pers]}</td><td><span class="rate ${rc(pR)}">${pR}%</span></td><td><div class="meter"><div class="mf" style="width:${pR}%;background:${mc(pR)}"></div></div></td></tr>
<tr><td>Compound</td><td class="mono" style="color:var(--gd)">${n.total}</td><td colspan="3" style="font-size:12px;color:var(--t2)">"${compInfo.n}" ‚Äî ${compInfo.t.replace('_',' ')}</td></tr>
</tbody></table></div>
<div class="sec" style="background:linear-gradient(135deg,rgba(212,168,83,.06),rgba(212,168,83,.02));border-color:rgba(212,168,83,.2)">
<div class="stit">üí° Best Name Root Numbers for Driver ${d} √ó Conductor ${c}</div>
<div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:12px">${bestRoots.map((r,i)=>`<div style="text-align:center;padding:10px;background:${i<3?'var(--gg)':'var(--s2)'};border:1px solid ${i<3?'rgba(212,168,83,.3)':'var(--bd)'};border-radius:8px;min-width:60px"><div style="font-family:'Cormorant Garamond',serif;font-size:22px;color:${i<3?'var(--gd)':'var(--tx)'}">${r.r}</div><div style="font-size:10px;color:var(--t2)">${r.rate}%</div><div style="font-size:9px;color:var(--t2)">${PL[r.r].split(' ')[0]}</div></div>`).join('')}</div>
<div style="margin-top:12px;font-size:12px;color:var(--t2)">Your name root is <strong style="color:var(--gd)">${n.root}</strong>. ${bestRoots.findIndex(r=>r.r===n.root)<=2?'‚úÖ Already optimal!':'Consider name adjustments ‚Üí see Name Correction tab.'}</div>
</div>
</div>

<div class="tpanel" id="tp3">
${corr.length?`<div class="csec">
<div class="stit" style="color:var(--gn)">‚úèÔ∏è Name Correction Suggestions ‚Äî Personalized for Driver ${d} √ó Conductor ${c}</div>
<div style="padding:12px;background:var(--s1);border:1px solid var(--bd);border-radius:8px;margin-bottom:12px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap"><div><strong>${name}</strong> <span style="font-size:12px;color:var(--t2);margin-left:8px">R=${corrOrig.root} S=${corrOrig.soul} P=${corrOrig.pers}</span></div><span class="mono" style="color:var(--t2)">Score: ${corrOrig.score.toFixed(1)}</span></div>
<table class="ctbl"><thead><tr><th>Suggested Name</th><th>Type</th><th>Root</th><th>Drv√óName</th><th>Cnd√óName</th><th>Boost</th><th>Score</th></tr></thead><tbody>
${corr.map(([sn,sd],i)=>{const b=sd.score-corrOrig.score;const dh=sd.drvH!==null&&sd.drvH!==undefined?sd.drvH+'%':'‚Äî';const ch2=sd.cndH!==null&&sd.cndH!==undefined?sd.cndH+'%':'‚Äî';const dc2=sd.drvH>=75?'var(--gn)':sd.drvH!==null&&sd.drvH<=40?'var(--rd)':'var(--t2)';const cc2=sd.cndH>=75?'var(--gn)':sd.cndH!==null&&sd.cndH<=40?'var(--rd)':'var(--t2)';const tg={add:'ctg-a',rem:'ctg-r',swp:'ctg-s',dbl:'ctg-d'};return`<tr><td><strong>${sn}</strong>${i===0?'<span class="cbst">Best</span>':''}<div style="font-size:11px;color:var(--t2)">${sd.method}</div></td><td><span class="ctg ${tg[sd.tag]||''}">${sd.tag}</span></td><td class="mono">${sd.root}</td><td class="mono" style="color:${dc2}">${dh}</td><td class="mono" style="color:${cc2}">${ch2}</td><td class="boost">+${b.toFixed(1)}</td><td><span class="rate ${rc(sd.score)}">${sd.score.toFixed(0)}%</span></td></tr>`}).join('')}
</tbody></table>
<div class="cnote"><strong>How this works:</strong> We test hundreds of spelling variations and score each against YOUR specific birth numbers. "Drv√óName" = how well name root harmonizes with Driver ${d}. "Cnd√óName" = harmony with Conductor ${c}. These rates come from real 526-person data.<br><br><strong>Minor changes</strong> (add h, double a letter) are low-risk and common. For significant name changes, consult a numerologist who can factor in your full Vedic chart.</div>
</div>`:`<div class="sec"><div class="stit">‚úèÔ∏è Name Correction Analysis</div><div style="text-align:center;padding:20px;color:var(--t2)">‚úÖ Your name is already well-optimized for Driver ${d} √ó Conductor ${c}!</div></div>`}
</div>

<div class="tpanel" id="tp4">
<div class="sec"><div class="stit">üìä Data-Backed Insights</div>
${insights.map(i=>`<div class="ri"><div class="ric ${i.t==='g'?'ric-g':i.t==='w'?'ric-w':'ric-i'}">${i.t==='g'?'‚úì':i.t==='w'?'!':'‚Ñπ'}</div><div class="rit">${i.m}</div></div>`).join('')}
</div>
<div class="sec"><div class="stit">üôè Remedies for Your Numbers</div>
<div class="ri"><div class="ric ric-i">‚òÄ</div><div class="rit"><strong>For Driver ${d} (${dp.planet}):</strong><br>${dp.remedies.join(' ¬∑ ')}<br>Mantra: <em>${dp.mantras[0]}</em></div></div>
<div class="ri"><div class="ric ric-i">üåü</div><div class="rit"><strong>For Conductor ${c} (${cp.planet}):</strong><br>${cp.remedies.join(' ¬∑ ')}<br>Mantra: <em>${cp.mantras[0]}</em></div></div>
${n.soul!==d&&n.soul!==c?`<div class="ri"><div class="ric ric-i">üíé</div><div class="rit"><strong>For Soul Urge ${n.soul} (${NP[n.soul].planet}):</strong><br>${NP[n.soul].remedies.join(' ¬∑ ')}</div></div>`:''}
</div>
<div class="sec"><div class="stit">‚öñÔ∏è What We Tested vs What's Real</div>
<div class="ri"><div class="ric ric-g">‚úì</div><div class="rit"><strong>VALIDATED (526 people)</strong>: Driver 4 (82%) best driver, Conductor 4/8 (80-81%) best, Conductor 9 (58%) worst (-17% gap!), Name Root 4/8 (81%) best, Soul 7/9 (80%) best, Personality 7 (84%) best. Mercury birth days (5/14/23) = +6%.</div></div>
<div class="ri"><div class="ric ric-w">‚úó</div><div class="rit"><strong>NOT VALIDATED</strong>: Compound number meanings (10-52), Soul‚ÜîDriver friendship (collapsed to +1% at 526!), most planetary friend/enemy rules, Lo Shu Grid planes.</div></div>
<div class="ri"><div class="ric ric-i">‚Ñπ</div><div class="rit"><strong>Accuracy</strong>: 76% overall. At high confidence: top-scored = 96% correct (56 people), bottom-scored = 84% correct (19 people). DC combo 9-9 = only 16% success. 8 combos showed 100% success (n‚â•5 each).</div></div>
</div>
</div>

<div class="disclaimer"><strong>Methodology & Disclaimer</strong><br>Success rates derived from 526 historically documented individuals across business, politics, sports, entertainment, science, and crime (US Presidents, UK PMs, Indian leaders, Forbes billionaires, Olympic medalists, Nobel winners, Hollywood/Bollywood stars, musicians, scientists, criminals). Traditional numerology knowledge compiled from Cheiro, ancient Chaldean tablets, Vedic sources, and multiple practitioner references. Compound number meanings are traditional lore ‚Äî our data showed they have cultural but not predictive significance. This tool is for education and self-reflection. All data processed locally.</div>
`;
const el=document.getElementById('results');el.innerHTML=html;el.classList.add('active');el.scrollIntoView({behavior:'smooth',block:'start'})
}
function showTab(i){document.querySelectorAll('.tab').forEach((t,j)=>t.classList.toggle('active',j===i));document.querySelectorAll('.tpanel').forEach((t,j)=>t.classList.toggle('active',j===i))}
</script>
</body>
</html>
